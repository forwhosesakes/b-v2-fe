import{a as hn,b as et,g as yn,n as Ht,S as gn,R as ue,p as bn,u as On,c as wn,d as $t,r as w,e as En,f as _n,j as O}from"./index-BLlm9sPY.js";import Cn from"./upload-DPINTDLJ.js";import xn from"./add-DZiBtpcH.js";import{s as Dn,h as Sn}from"./httpClient-Cejv5jVd.js";import{C as An}from"./circular-progress-CnwQJjO0.js";/* empty css             */var Rn=function(e){hn(t,e);function t(r,o){var a;return a=e.call(this)||this,a.client=r,a.setOptions(o),a.bindMethods(),a.updateResult(),a}var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(o){this.options=this.client.defaultMutationOptions(o)},n.onUnsubscribe=function(){if(!this.listeners.length){var o;(o=this.currentMutation)==null||o.removeObserver(this)}},n.onMutationUpdate=function(o){this.updateResult();var a={listeners:!0};o.type==="success"?a.onSuccess=!0:o.type==="error"&&(a.onError=!0),this.notify(a)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(o,a){return this.mutateOptions=a,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,et({},this.options,{variables:typeof o<"u"?o:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var o=this.currentMutation?this.currentMutation.state:yn(),a=et({},o,{isLoading:o.status==="loading",isSuccess:o.status==="success",isError:o.status==="error",isIdle:o.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=a},n.notify=function(o){var a=this;Ht.batch(function(){a.mutateOptions&&(o.onSuccess?(a.mutateOptions.onSuccess==null||a.mutateOptions.onSuccess(a.currentResult.data,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(a.currentResult.data,null,a.currentResult.variables,a.currentResult.context)):o.onError&&(a.mutateOptions.onError==null||a.mutateOptions.onError(a.currentResult.error,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(void 0,a.currentResult.error,a.currentResult.variables,a.currentResult.context))),o.listeners&&a.listeners.forEach(function(l){l(a.currentResult)})})},t}(gn);function Mn(e,t,n){var r=ue.useRef(!1),o=ue.useState(0),a=o[1],l=bn(e,t),i=On(),f=ue.useRef();f.current?f.current.setOptions(l):f.current=new Rn(i,l);var u=f.current.getCurrentResult();ue.useEffect(function(){r.current=!0;var p=f.current.subscribe(Ht.batchCalls(function(){r.current&&a(function(b){return b+1})}));return function(){r.current=!1,p()}},[]);var y=ue.useCallback(function(p,b){f.current.mutate(p,b).catch(wn)},[]);if(u.error&&Dn(void 0,f.current.options.useErrorBoundary,[u.error]))throw u.error;return et({},u,{mutate:y,mutateAsync:u.mutate})}var zt={exports:{}},Tn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pn=Tn,Fn=Pn;function qt(){}function Bt(){}Bt.resetWarningCache=qt;var jn=function(){function e(r,o,a,l,i,f){if(f!==Fn){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Bt,resetWarningCache:qt};return n.PropTypes=n,n};zt.exports=jn();var ft=zt.exports;const C=$t(ft);function pe(e,t,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function i(y){try{u(r.next(y))}catch(p){l(p)}}function f(y){try{u(r.throw(y))}catch(p){l(p)}}function u(y){y.done?a(y.value):o(y.value).then(i,f)}u((r=r.apply(e,t||[])).next())})}function de(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(u){return function(y){return f([u,y])}}function f(u){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(a=u[0]&2?o.return:u[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,u[1])).done)return a;switch(o=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(y){u=[6,y],o=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function wt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],l;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(i){l={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function Et(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Nn=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function _e(e,t){var n=In(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function In(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=Nn.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Ln=[".DS_Store","Thumbs.db"];function kn(e){return pe(this,void 0,void 0,function(){return de(this,function(t){return ke(e)&&Un(e.dataTransfer)?[2,zn(e.dataTransfer,e.type)]:Wn(e)?[2,Hn(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,$n(e)]:[2,[]]})})}function Un(e){return ke(e)}function Wn(e){return ke(e)&&ke(e.target)}function ke(e){return typeof e=="object"&&e!==null}function Hn(e){return tt(e.target.files).map(function(t){return _e(t)})}function $n(e){return pe(this,void 0,void 0,function(){var t;return de(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return _e(r)})]}})})}function zn(e,t){return pe(this,void 0,void 0,function(){var n,r;return de(this,function(o){switch(o.label){case 0:return e.items?(n=tt(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(qn))]):[3,2];case 1:return r=o.sent(),[2,_t(Kt(r))];case 2:return[2,_t(tt(e.files).map(function(a){return _e(a)}))]}})})}function _t(e){return e.filter(function(t){return Ln.indexOf(t.name)===-1})}function tt(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function qn(e){if(typeof e.webkitGetAsEntry!="function")return Ct(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Yt(t):Ct(e)}function Kt(e){return e.reduce(function(t,n){return Et(Et([],wt(t),!1),wt(Array.isArray(n)?Kt(n):[n]),!1)},[])}function Ct(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=_e(t);return Promise.resolve(n)}function Bn(e){return pe(this,void 0,void 0,function(){return de(this,function(t){return[2,e.isDirectory?Yt(e):Kn(e)]})})}function Yt(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function a(){var l=this;t.readEntries(function(i){return pe(l,void 0,void 0,function(){var f,u,y;return de(this,function(p){switch(p.label){case 0:if(i.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return f=p.sent(),n(f),[3,4];case 3:return u=p.sent(),r(u),[3,4];case 4:return[3,6];case 5:y=Promise.all(i.map(Bn)),o.push(y),a(),p.label=6;case 6:return[2]}})})},function(i){r(i)})}a()})}function Kn(e){return pe(this,void 0,void 0,function(){return de(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var a=_e(o,e.fullPath);n(a)},function(o){r(o)})})]})})}var Yn=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return n.some(function(l){var i=l.trim().toLowerCase();return i.charAt(0)==="."?r.toLowerCase().endsWith(i):i.endsWith("/*")?a===i.replace(/\/.*$/,""):o===i})}return!0};function xt(e){return Jn(e)||Vn(e)||Vt(e)||Gn()}function Gn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jn(e){if(Array.isArray(e))return nt(e)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dt(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){return Zn(e)||Xn(e,t)||Vt(e,t)||Qn()}function Qn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(e,t){if(e){if(typeof e=="string")return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}}function nt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,a=!1,l,i;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));o=!0);}catch(f){a=!0,i=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw i}}return r}}function Zn(e){if(Array.isArray(e))return e}var er="file-invalid-type",tr="file-too-large",nr="file-too-small",rr="too-many-files",or=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:er,message:"File type must be ".concat(n)}},At=function(t){return{code:tr,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Rt=function(t){return{code:nr,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},ar={code:rr,message:"Too many files"};function Jt(e,t){var n=e.type==="application/x-moz-file"||Yn(e,t);return[n,n?null:or(t)]}function Qt(e,t,n){if(te(e.size))if(te(t)&&te(n)){if(e.size>n)return[!1,At(n)];if(e.size<t)return[!1,Rt(t)]}else{if(te(t)&&e.size<t)return[!1,Rt(t)];if(te(n)&&e.size>n)return[!1,At(n)]}return[!0,null]}function te(e){return e!=null}function ir(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,a=e.multiple,l=e.maxFiles,i=e.validator;return!a&&t.length>1||a&&l>=1&&t.length>l?!1:t.every(function(f){var u=Jt(f,n),y=Oe(u,1),p=y[0],b=Qt(f,r,o),E=Oe(b,1),S=E[0],F=i?i(f):null;return p&&S&&!F})}function Ue(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ie(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Mt(e){e.preventDefault()}function sr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function lr(e){return e.indexOf("Edge/")!==-1}function ur(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return sr(e)||lr(e)}function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return t.some(function(i){return!Ue(r)&&i&&i.apply(void 0,[r].concat(a)),Ue(r)})}}function cr(){return"showOpenFilePicker"in window}function fr(e){if(te(e)){var t=Object.entries(e).filter(function(n){var r=Oe(n,2),o=r[0],a=r[1],l=!0;return Xt(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(a)||!a.every(Zt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var o=Oe(r,2),a=o[0],l=o[1];return St(St({},n),{},Gt({},a,l))},{});return[{description:"Files",accept:t}]}return e}function pr(e){if(te(e))return Object.entries(e).reduce(function(t,n){var r=Oe(n,2),o=r[0],a=r[1];return[].concat(xt(t),[o],xt(a))},[]).filter(function(t){return Xt(t)||Zt(t)}).join(",")}function dr(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function mr(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Xt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Zt(e){return/^.*\.[\w]+$/.test(e)}var vr=["children"],hr=["open"],yr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],gr=["refKey","onChange","onClick"];function br(e){return Er(e)||wr(e)||en(e)||Or()}function Or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Er(e){if(Array.isArray(e))return rt(e)}function Ze(e,t){return xr(e)||Cr(e,t)||en(e,t)||_r()}function _r(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function en(e,t){if(e){if(typeof e=="string")return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}}function rt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cr(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,a=!1,l,i;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));o=!0);}catch(f){a=!0,i=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw i}}return r}}function xr(e){if(Array.isArray(e))return e}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tt(Object(n),!0).forEach(function(r){ot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){if(e==null)return{};var n=Dr(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dr(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var pt=w.forwardRef(function(e,t){var n=e.children,r=We(e,vr),o=nn(r),a=o.open,l=We(o,hr);return w.useImperativeHandle(t,function(){return{open:a}},[a]),ue.createElement(w.Fragment,null,n(x(x({},l),{},{open:a})))});pt.displayName="Dropzone";var tn={disabled:!1,getFilesFromEvent:kn,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};pt.defaultProps=tn;pt.propTypes={children:C.func,accept:C.objectOf(C.arrayOf(C.string)),multiple:C.bool,preventDropOnDocument:C.bool,noClick:C.bool,noKeyboard:C.bool,noDrag:C.bool,noDragEventsBubbling:C.bool,minSize:C.number,maxSize:C.number,maxFiles:C.number,disabled:C.bool,getFilesFromEvent:C.func,onFileDialogCancel:C.func,onFileDialogOpen:C.func,useFsAccessApi:C.bool,autoFocus:C.bool,onDragEnter:C.func,onDragLeave:C.func,onDragOver:C.func,onDrop:C.func,onDropAccepted:C.func,onDropRejected:C.func,onError:C.func,validator:C.func};var at={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function nn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=x(x({},tn),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,a=t.maxSize,l=t.minSize,i=t.multiple,f=t.maxFiles,u=t.onDragEnter,y=t.onDragLeave,p=t.onDragOver,b=t.onDrop,E=t.onDropAccepted,S=t.onDropRejected,F=t.onFileDialogCancel,q=t.onFileDialogOpen,B=t.useFsAccessApi,De=t.autoFocus,oe=t.preventDropOnDocument,ae=t.noClick,V=t.noKeyboard,Se=t.noDrag,K=t.noDragEventsBubbling,he=t.onError,Y=t.validator,Z=w.useMemo(function(){return pr(n)},[n]),Ae=w.useMemo(function(){return fr(n)},[n]),J=w.useMemo(function(){return typeof q=="function"?q:Pt},[q]),Q=w.useMemo(function(){return typeof F=="function"?F:Pt},[F]),d=w.useRef(null),m=w.useRef(null),D=w.useReducer(Sr,at),s=Ze(D,2),v=s[0],_=s[1],T=v.isFocused,A=v.isFileDialogActive,N=w.useRef(typeof window<"u"&&window.isSecureContext&&B&&cr()),$=function(){!N.current&&A&&setTimeout(function(){if(m.current){var h=m.current.files;h.length||(_({type:"closeDialog"}),Q())}},300)};w.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[m,A,Q,N]);var L=w.useRef([]),Re=function(h){d.current&&d.current.contains(h.target)||(h.preventDefault(),L.current=[])};w.useEffect(function(){return oe&&(document.addEventListener("dragover",Mt,!1),document.addEventListener("drop",Re,!1)),function(){oe&&(document.removeEventListener("dragover",Mt),document.removeEventListener("drop",Re))}},[d,oe]),w.useEffect(function(){return!r&&De&&d.current&&d.current.focus(),function(){}},[d,De,r]);var G=w.useCallback(function(c){he?he(c):console.error(c)},[he]),Me=w.useCallback(function(c){c.preventDefault(),c.persist(),je(c),L.current=[].concat(br(L.current),[c.target]),Ie(c)&&Promise.resolve(o(c)).then(function(h){if(!(Ue(c)&&!K)){var R=h.length,M=R>0&&ir({files:h,accept:Z,minSize:l,maxSize:a,multiple:i,maxFiles:f,validator:Y}),j=R>0&&!M;_({isDragAccept:M,isDragReject:j,isDragActive:!0,type:"setDraggedFiles"}),u&&u(c)}}).catch(function(h){return G(h)})},[o,u,G,K,Z,l,a,i,f,Y]),vt=w.useCallback(function(c){c.preventDefault(),c.persist(),je(c);var h=Ie(c);if(h&&c.dataTransfer)try{c.dataTransfer.dropEffect="copy"}catch{}return h&&p&&p(c),!1},[p,K]),ht=w.useCallback(function(c){c.preventDefault(),c.persist(),je(c);var h=L.current.filter(function(M){return d.current&&d.current.contains(M)}),R=h.indexOf(c.target);R!==-1&&h.splice(R,1),L.current=h,!(h.length>0)&&(_({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ie(c)&&y&&y(c))},[d,y,K]),Te=w.useCallback(function(c,h){var R=[],M=[];c.forEach(function(j){var ye=Jt(j,Z),le=Ze(ye,2),Ke=le[0],Ye=le[1],Ge=Qt(j,l,a),Ne=Ze(Ge,2),Ve=Ne[0],Je=Ne[1],Qe=Y?Y(j):null;if(Ke&&Ve&&!Qe)R.push(j);else{var Xe=[Ye,Je];Qe&&(Xe=Xe.concat(Qe)),M.push({file:j,errors:Xe.filter(function(vn){return vn})})}}),(!i&&R.length>1||i&&f>=1&&R.length>f)&&(R.forEach(function(j){M.push({file:j,errors:[ar]})}),R.splice(0)),_({acceptedFiles:R,fileRejections:M,type:"setFiles"}),b&&b(R,M,h),M.length>0&&S&&S(M,h),R.length>0&&E&&E(R,h)},[_,i,Z,l,a,f,b,E,S,Y]),Pe=w.useCallback(function(c){c.preventDefault(),c.persist(),je(c),L.current=[],Ie(c)&&Promise.resolve(o(c)).then(function(h){Ue(c)&&!K||Te(h,c)}).catch(function(h){return G(h)}),_({type:"reset"})},[o,Te,G,K]),ie=w.useCallback(function(){if(N.current){_({type:"openDialog"}),J();var c={multiple:i,types:Ae};window.showOpenFilePicker(c).then(function(h){return o(h)}).then(function(h){Te(h,null),_({type:"closeDialog"})}).catch(function(h){dr(h)?(Q(h),_({type:"closeDialog"})):mr(h)?(N.current=!1,m.current?(m.current.value=null,m.current.click()):G(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):G(h)});return}m.current&&(_({type:"openDialog"}),J(),m.current.value=null,m.current.click())},[_,J,Q,B,Te,G,Ae,i]),yt=w.useCallback(function(c){!d.current||!d.current.isEqualNode(c.target)||(c.key===" "||c.key==="Enter"||c.keyCode===32||c.keyCode===13)&&(c.preventDefault(),ie())},[d,ie]),gt=w.useCallback(function(){_({type:"focus"})},[]),bt=w.useCallback(function(){_({type:"blur"})},[]),Ot=w.useCallback(function(){ae||(ur()?setTimeout(ie,0):ie())},[ae,ie]),se=function(h){return r?null:h},Be=function(h){return V?null:se(h)},Fe=function(h){return Se?null:se(h)},je=function(h){K&&h.stopPropagation()},pn=w.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.refKey,R=h===void 0?"ref":h,M=c.role,j=c.onKeyDown,ye=c.onFocus,le=c.onBlur,Ke=c.onClick,Ye=c.onDragEnter,Ge=c.onDragOver,Ne=c.onDragLeave,Ve=c.onDrop,Je=We(c,yr);return x(x(ot({onKeyDown:Be(z(j,yt)),onFocus:Be(z(ye,gt)),onBlur:Be(z(le,bt)),onClick:se(z(Ke,Ot)),onDragEnter:Fe(z(Ye,Me)),onDragOver:Fe(z(Ge,vt)),onDragLeave:Fe(z(Ne,ht)),onDrop:Fe(z(Ve,Pe)),role:typeof M=="string"&&M!==""?M:"presentation"},R,d),!r&&!V?{tabIndex:0}:{}),Je)}},[d,yt,gt,bt,Ot,Me,vt,ht,Pe,V,Se,r]),dn=w.useCallback(function(c){c.stopPropagation()},[]),mn=w.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.refKey,R=h===void 0?"ref":h,M=c.onChange,j=c.onClick,ye=We(c,gr),le=ot({accept:Z,multiple:i,type:"file",style:{display:"none"},onChange:se(z(M,Pe)),onClick:se(z(j,dn)),tabIndex:-1},R,m);return x(x({},le),ye)}},[m,n,i,Pe,r]);return x(x({},v),{},{isFocused:T&&!r,getRootProps:pn,getInputProps:mn,rootRef:d,inputRef:m,open:se(ie)})}function Sr(e,t){switch(t.type){case"focus":return x(x({},e),{},{isFocused:!0});case"blur":return x(x({},e),{},{isFocused:!1});case"openDialog":return x(x({},at),{},{isFileDialogActive:!0});case"closeDialog":return x(x({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return x(x({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return x(x({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return x({},at);default:return e}}function Pt(){}const Ar=async e=>await Sn({method:"post",url:"/inference/general/",data:e,headers:{"Content-Type":"multipart/form-data"}}),Rr=()=>Mn({mutationFn:async([e,t])=>{const r=await(await fetch(e)).blob();let o=new FormData;return o.append("file",r,`temp.${t}`),(await Ar(o)).data.url}});var it={exports:{}},re={},st={exports:{}},W={},lt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",o=/input|select|textarea|button|object|iframe/;function a(p,b){return b.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function l(p){var b=p.offsetWidth<=0&&p.offsetHeight<=0;if(b&&!p.innerHTML)return!0;try{var E=window.getComputedStyle(p),S=E.getPropertyValue("display");return b?S!==r&&a(p,E):S===n}catch{return console.warn("Failed to inspect element style"),!1}}function i(p){for(var b=p,E=p.getRootNode&&p.getRootNode();b&&b!==document.body;){if(E&&b===E&&(b=E.host.parentNode),l(b))return!1;b=b.parentNode}return!0}function f(p,b){var E=p.nodeName.toLowerCase(),S=o.test(E)&&!p.disabled||E==="a"&&p.href||b;return S&&i(p)}function u(p){var b=p.getAttribute("tabindex");b===null&&(b=void 0);var E=isNaN(b);return(E||b>=0)&&f(p,!E)}function y(p){var b=[].slice.call(p.querySelectorAll("*"),0).reduce(function(E,S){return E.concat(S.shadowRoot?y(S.shadowRoot):[S])},[]);return b.filter(u)}e.exports=t.default})(lt,lt.exports);var rn=lt.exports;Object.defineProperty(W,"__esModule",{value:!0});W.resetState=Fr;W.log=jr;W.handleBlur=we;W.handleFocus=Ee;W.markForFocusLater=Nr;W.returnFocus=Ir;W.popWithoutFocus=Lr;W.setupScopedFocus=kr;W.teardownScopedFocus=Ur;var Mr=rn,Tr=Pr(Mr);function Pr(e){return e&&e.__esModule?e:{default:e}}var fe=[],ce=null,ut=!1;function Fr(){fe=[]}function jr(){}function we(){ut=!0}function Ee(){if(ut){if(ut=!1,!ce)return;setTimeout(function(){if(!ce.contains(document.activeElement)){var e=(0,Tr.default)(ce)[0]||ce;e.focus()}},0)}}function Nr(){fe.push(document.activeElement)}function Ir(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{fe.length!==0&&(t=fe.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function Lr(){fe.length>0&&fe.pop()}function kr(e){ce=e,window.addEventListener?(window.addEventListener("blur",we,!1),document.addEventListener("focus",Ee,!0)):(window.attachEvent("onBlur",we),document.attachEvent("onFocus",Ee))}function Ur(){ce=null,window.addEventListener?(window.removeEventListener("blur",we),document.removeEventListener("focus",Ee)):(window.detachEvent("onBlur",we),document.detachEvent("onFocus",Ee))}var ct={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=rn,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return i.activeElement.shadowRoot?a(i.activeElement.shadowRoot):i.activeElement}function l(i,f){var u=(0,r.default)(i);if(!u.length){f.preventDefault();return}var y=void 0,p=f.shiftKey,b=u[0],E=u[u.length-1],S=a();if(i===S){if(!p)return;y=E}if(E===S&&!p&&(y=b),b===S&&p&&(y=E),y){f.preventDefault(),y.focus();return}var F=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),q=F!=null&&F[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(q){var B=u.indexOf(S);if(B>-1&&(B+=p?-1:1),y=u[B],typeof y>"u"){f.preventDefault(),y=p?E:b,y.focus();return}f.preventDefault(),y.focus()}}e.exports=t.default})(ct,ct.exports);var Wr=ct.exports,H={},Hr=function(){},$r=Hr,U={},on={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(on);var zr=on.exports;Object.defineProperty(U,"__esModule",{value:!0});U.canUseDOM=U.SafeNodeList=U.SafeHTMLCollection=void 0;var qr=zr,Br=Kr(qr);function Kr(e){return e&&e.__esModule?e:{default:e}}var qe=Br.default,Yr=qe.canUseDOM?window.HTMLElement:{};U.SafeHTMLCollection=qe.canUseDOM?window.HTMLCollection:{};U.SafeNodeList=qe.canUseDOM?window.NodeList:{};U.canUseDOM=qe.canUseDOM;U.default=Yr;Object.defineProperty(H,"__esModule",{value:!0});H.resetState=Xr;H.log=Zr;H.assertNodeList=an;H.setElement=eo;H.validateElement=dt;H.hide=to;H.show=no;H.documentNotReadyOrSSRTesting=ro;var Gr=$r,Vr=Qr(Gr),Jr=U;function Qr(e){return e&&e.__esModule?e:{default:e}}var I=null;function Xr(){I&&(I.removeAttribute?I.removeAttribute("aria-hidden"):I.length!=null?I.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(I).forEach(function(e){return e.removeAttribute("aria-hidden")})),I=null}function Zr(){}function an(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function eo(e){var t=e;if(typeof t=="string"&&Jr.canUseDOM){var n=document.querySelectorAll(t);an(n,t),t=n}return I=t||I,I}function dt(e){var t=e||I;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Vr.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function to(e){var t=!0,n=!1,r=void 0;try{for(var o=dt(e)[Symbol.iterator](),a;!(t=(a=o.next()).done);t=!0){var l=a.value;l.setAttribute("aria-hidden","true")}}catch(i){n=!0,r=i}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function no(e){var t=!0,n=!1,r=void 0;try{for(var o=dt(e)[Symbol.iterator](),a;!(t=(a=o.next()).done);t=!0){var l=a.value;l.removeAttribute("aria-hidden")}}catch(i){n=!0,r=i}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function ro(){I=null}var me={};Object.defineProperty(me,"__esModule",{value:!0});me.resetState=oo;me.log=ao;var ge={},be={};function Ft(e,t){e.classList.remove(t)}function oo(){var e=document.getElementsByTagName("html")[0];for(var t in ge)Ft(e,ge[t]);var n=document.body;for(var r in be)Ft(n,be[r]);ge={},be={}}function ao(){}var io=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},so=function(t,n){return t[n]&&(t[n]-=1),n},lo=function(t,n,r){r.forEach(function(o){io(n,o),t.add(o)})},uo=function(t,n,r){r.forEach(function(o){so(n,o),n[o]===0&&t.remove(o)})};me.add=function(t,n){return lo(t.classList,t.nodeName.toLowerCase()=="html"?ge:be,n.split(" "))};me.remove=function(t,n){return uo(t.classList,t.nodeName.toLowerCase()=="html"?ge:be,n.split(" "))};var ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.log=fo;ve.resetState=po;function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sn=function e(){var t=this;co(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},He=new sn;function fo(){console.log("portalOpenInstances ----------"),console.log(He.openInstances.length),He.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function po(){He=new sn}ve.default=He;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.resetState=yo;mt.log=go;var mo=ve,vo=ho(mo);function ho(e){return e&&e.__esModule?e:{default:e}}var P=void 0,k=void 0,ne=[];function yo(){for(var e=[P,k],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}P=k=null,ne=[]}function go(){console.log("bodyTrap ----------"),console.log(ne.length);for(var e=[P,k],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function jt(){ne.length!==0&&ne[ne.length-1].focusContent()}function bo(e,t){!P&&!k&&(P=document.createElement("div"),P.setAttribute("data-react-modal-body-trap",""),P.style.position="absolute",P.style.opacity="0",P.setAttribute("tabindex","0"),P.addEventListener("focus",jt),k=P.cloneNode(),k.addEventListener("focus",jt)),ne=t,ne.length>0?(document.body.firstChild!==P&&document.body.insertBefore(P,document.body.firstChild),document.body.lastChild!==k&&document.body.appendChild(k)):(P.parentElement&&P.parentElement.removeChild(P),k.parentElement&&k.parentElement.removeChild(k))}vo.default.subscribe(bo);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var D=arguments[m];for(var s in D)Object.prototype.hasOwnProperty.call(D,s)&&(d[s]=D[s])}return d},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},o=function(){function d(m,D){for(var s=0;s<D.length;s++){var v=D[s];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,D,s){return D&&d(m.prototype,D),s&&d(m,s),m}}(),a=w,l=ft,i=V(l),f=W,u=ae(f),y=Wr,p=V(y),b=H,E=ae(b),S=me,F=ae(S),q=U,B=V(q),De=ve,oe=V(De);function ae(d){if(d&&d.__esModule)return d;var m={};if(d!=null)for(var D in d)Object.prototype.hasOwnProperty.call(d,D)&&(m[D]=d[D]);return m.default=d,m}function V(d){return d&&d.__esModule?d:{default:d}}function Se(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function K(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function he(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var Y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},Z=function(m){return m.code==="Tab"||m.keyCode===9},Ae=function(m){return m.code==="Escape"||m.keyCode===27},J=0,Q=function(d){he(m,d);function m(D){Se(this,m);var s=K(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,D));return s.setOverlayRef=function(v){s.overlay=v,s.props.overlayRef&&s.props.overlayRef(v)},s.setContentRef=function(v){s.content=v,s.props.contentRef&&s.props.contentRef(v)},s.afterClose=function(){var v=s.props,_=v.appElement,T=v.ariaHideApp,A=v.htmlOpenClassName,N=v.bodyOpenClassName,$=v.parentSelector,L=$&&$().ownerDocument||document;N&&F.remove(L.body,N),A&&F.remove(L.getElementsByTagName("html")[0],A),T&&J>0&&(J-=1,J===0&&E.show(_)),s.props.shouldFocusAfterRender&&(s.props.shouldReturnFocusAfterClose?(u.returnFocus(s.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),s.props.onAfterClose&&s.props.onAfterClose(),oe.default.deregister(s)},s.open=function(){s.beforeOpen(),s.state.afterOpen&&s.state.beforeClose?(clearTimeout(s.closeTimer),s.setState({beforeClose:!1})):(s.props.shouldFocusAfterRender&&(u.setupScopedFocus(s.node),u.markForFocusLater()),s.setState({isOpen:!0},function(){s.openAnimationFrame=requestAnimationFrame(function(){s.setState({afterOpen:!0}),s.props.isOpen&&s.props.onAfterOpen&&s.props.onAfterOpen({overlayEl:s.overlay,contentEl:s.content})})}))},s.close=function(){s.props.closeTimeoutMS>0?s.closeWithTimeout():s.closeWithoutTimeout()},s.focusContent=function(){return s.content&&!s.contentHasFocus()&&s.content.focus({preventScroll:!0})},s.closeWithTimeout=function(){var v=Date.now()+s.props.closeTimeoutMS;s.setState({beforeClose:!0,closesAt:v},function(){s.closeTimer=setTimeout(s.closeWithoutTimeout,s.state.closesAt-Date.now())})},s.closeWithoutTimeout=function(){s.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},s.afterClose)},s.handleKeyDown=function(v){Z(v)&&(0,p.default)(s.content,v),s.props.shouldCloseOnEsc&&Ae(v)&&(v.stopPropagation(),s.requestClose(v))},s.handleOverlayOnClick=function(v){s.shouldClose===null&&(s.shouldClose=!0),s.shouldClose&&s.props.shouldCloseOnOverlayClick&&(s.ownerHandlesClose()?s.requestClose(v):s.focusContent()),s.shouldClose=null},s.handleContentOnMouseUp=function(){s.shouldClose=!1},s.handleOverlayOnMouseDown=function(v){!s.props.shouldCloseOnOverlayClick&&v.target==s.overlay&&v.preventDefault()},s.handleContentOnClick=function(){s.shouldClose=!1},s.handleContentOnMouseDown=function(){s.shouldClose=!1},s.requestClose=function(v){return s.ownerHandlesClose()&&s.props.onRequestClose(v)},s.ownerHandlesClose=function(){return s.props.onRequestClose},s.shouldBeClosed=function(){return!s.state.isOpen&&!s.state.beforeClose},s.contentHasFocus=function(){return document.activeElement===s.content||s.content.contains(document.activeElement)},s.buildClassName=function(v,_){var T=(typeof _>"u"?"undefined":r(_))==="object"?_:{base:Y[v],afterOpen:Y[v]+"--after-open",beforeClose:Y[v]+"--before-close"},A=T.base;return s.state.afterOpen&&(A=A+" "+T.afterOpen),s.state.beforeClose&&(A=A+" "+T.beforeClose),typeof _=="string"&&_?A+" "+_:A},s.attributesFromObject=function(v,_){return Object.keys(_).reduce(function(T,A){return T[v+"-"+A]=_[A],T},{})},s.state={afterOpen:!1,beforeClose:!1},s.shouldClose=null,s.moveFromContentToOverlay=null,s}return o(m,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(s,v){this.props.isOpen&&!s.isOpen?this.open():!this.props.isOpen&&s.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!v.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var s=this.props,v=s.appElement,_=s.ariaHideApp,T=s.htmlOpenClassName,A=s.bodyOpenClassName,N=s.parentSelector,$=N&&N().ownerDocument||document;A&&F.add($.body,A),T&&F.add($.getElementsByTagName("html")[0],T),_&&(J+=1,E.hide(v)),oe.default.register(this)}},{key:"render",value:function(){var s=this.props,v=s.id,_=s.className,T=s.overlayClassName,A=s.defaultStyles,N=s.children,$=_?{}:A.content,L=T?{}:A.overlay;if(this.shouldBeClosed())return null;var Re={ref:this.setOverlayRef,className:this.buildClassName("overlay",T),style:n({},L,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},G=n({id:v,ref:this.setContentRef,style:n({},$,this.props.style.content),className:this.buildClassName("content",_),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Me=this.props.contentElement(G,N);return this.props.overlayElement(Re,Me)}}]),m}(a.Component);Q.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Q.propTypes={isOpen:i.default.bool.isRequired,defaultStyles:i.default.shape({content:i.default.object,overlay:i.default.object}),style:i.default.shape({content:i.default.object,overlay:i.default.object}),className:i.default.oneOfType([i.default.string,i.default.object]),overlayClassName:i.default.oneOfType([i.default.string,i.default.object]),parentSelector:i.default.func,bodyOpenClassName:i.default.string,htmlOpenClassName:i.default.string,ariaHideApp:i.default.bool,appElement:i.default.oneOfType([i.default.instanceOf(B.default),i.default.instanceOf(q.SafeHTMLCollection),i.default.instanceOf(q.SafeNodeList),i.default.arrayOf(i.default.instanceOf(B.default))]),onAfterOpen:i.default.func,onAfterClose:i.default.func,onRequestClose:i.default.func,closeTimeoutMS:i.default.number,shouldFocusAfterRender:i.default.bool,shouldCloseOnOverlayClick:i.default.bool,shouldReturnFocusAfterClose:i.default.bool,preventScroll:i.default.bool,role:i.default.string,contentLabel:i.default.string,aria:i.default.object,data:i.default.object,children:i.default.node,shouldCloseOnEsc:i.default.bool,overlayRef:i.default.func,contentRef:i.default.func,id:i.default.string,overlayElement:i.default.func,contentElement:i.default.func,testId:i.default.string},t.default=Q,e.exports=t.default})(st,st.exports);var Oo=st.exports;function ln(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function un(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function cn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ln.__suppressDeprecationWarning=!0;un.__suppressDeprecationWarning=!0;cn.__suppressDeprecationWarning=!0;function wo(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var a=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=ln,t.componentWillReceiveProps=un),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=cn;var i=t.componentDidUpdate;t.componentDidUpdate=function(u,y,p){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;i.call(this,u,y,b)}}return e}const Eo=Object.freeze(Object.defineProperty({__proto__:null,polyfill:wo},Symbol.toStringTag,{value:"Module"})),_o=En(Eo);Object.defineProperty(re,"__esModule",{value:!0});re.bodyOpenClassName=re.portalClassName=void 0;var Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Co=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fn=w,$e=Ce(fn),xo=_n,ze=Ce(xo),Do=ft,g=Ce(Do),So=Oo,It=Ce(So),Ao=H,Ro=To(Ao),X=U,Lt=Ce(X),Mo=_o;function To(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Ce(e){return e&&e.__esModule?e:{default:e}}function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Fo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jo=re.portalClassName="ReactModalPortal",No=re.bodyOpenClassName="ReactModal__Body--open",ee=X.canUseDOM&&ze.default.createPortal!==void 0,Ut=function(t){return document.createElement(t)},Wt=function(){return ee?ze.default.createPortal:ze.default.unstable_renderSubtreeIntoContainer};function Le(e){return e()}var xe=function(e){Fo(t,e);function t(){var n,r,o,a;Po(this,t);for(var l=arguments.length,i=Array(l),f=0;f<l;f++)i[f]=arguments[f];return a=(r=(o=kt(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(i))),o),o.removePortal=function(){!ee&&ze.default.unmountComponentAtNode(o.node);var u=Le(o.props.parentSelector);u&&u.contains(o.node)?u.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(u){o.portal=u},o.renderPortal=function(u){var y=Wt(),p=y(o,$e.default.createElement(It.default,Nt({defaultStyles:t.defaultStyles},u)),o.node);o.portalRef(p)},r),kt(o,a)}return Co(t,[{key:"componentDidMount",value:function(){if(X.canUseDOM){ee||(this.node=Ut("div")),this.node.className=this.props.portalClassName;var r=Le(this.props.parentSelector);r.appendChild(this.node),!ee&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var o=Le(r.parentSelector),a=Le(this.props.parentSelector);return{prevParent:o,nextParent:a}}},{key:"componentDidUpdate",value:function(r,o,a){if(X.canUseDOM){var l=this.props,i=l.isOpen,f=l.portalClassName;r.portalClassName!==f&&(this.node.className=f);var u=a.prevParent,y=a.nextParent;y!==u&&(u.removeChild(this.node),y.appendChild(this.node)),!(!r.isOpen&&!i)&&!ee&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!X.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,o=Date.now(),a=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||o+this.props.closeTimeoutMS);a?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,a-o)):this.removePortal()}}},{key:"render",value:function(){if(!X.canUseDOM||!ee)return null;!this.node&&ee&&(this.node=Ut("div"));var r=Wt();return r($e.default.createElement(It.default,Nt({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Ro.setElement(r)}}]),t}(fn.Component);xe.propTypes={isOpen:g.default.bool.isRequired,style:g.default.shape({content:g.default.object,overlay:g.default.object}),portalClassName:g.default.string,bodyOpenClassName:g.default.string,htmlOpenClassName:g.default.string,className:g.default.oneOfType([g.default.string,g.default.shape({base:g.default.string.isRequired,afterOpen:g.default.string.isRequired,beforeClose:g.default.string.isRequired})]),overlayClassName:g.default.oneOfType([g.default.string,g.default.shape({base:g.default.string.isRequired,afterOpen:g.default.string.isRequired,beforeClose:g.default.string.isRequired})]),appElement:g.default.oneOfType([g.default.instanceOf(Lt.default),g.default.instanceOf(X.SafeHTMLCollection),g.default.instanceOf(X.SafeNodeList),g.default.arrayOf(g.default.instanceOf(Lt.default))]),onAfterOpen:g.default.func,onRequestClose:g.default.func,closeTimeoutMS:g.default.number,ariaHideApp:g.default.bool,shouldFocusAfterRender:g.default.bool,shouldCloseOnOverlayClick:g.default.bool,shouldReturnFocusAfterClose:g.default.bool,preventScroll:g.default.bool,parentSelector:g.default.func,aria:g.default.object,data:g.default.object,role:g.default.string,contentLabel:g.default.string,shouldCloseOnEsc:g.default.bool,overlayRef:g.default.func,contentRef:g.default.func,id:g.default.string,overlayElement:g.default.func,contentElement:g.default.func};xe.defaultProps={isOpen:!1,portalClassName:jo,bodyOpenClassName:No,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return $e.default.createElement("div",t,n)},contentElement:function(t,n){return $e.default.createElement("div",t,n)}};xe.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Mo.polyfill)(xe);re.default=xe;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=re,r=o(n);function o(a){return a&&a.__esModule?a:{default:a}}t.default=r.default,e.exports=t.default})(it,it.exports);var Io=it.exports;const Lo=$t(Io),ko=e=>{const t=w.useRef(null),n=w.useRef(null),r=w.useRef(null),o=document.createElement("canvas");o.height=1,o.width=1;const a=i=>{var f;i.dataTransfer.setDragImage(o,0,0),(f=document.body)==null||f.appendChild(o)},l=i=>{const f=n.current.getBoundingClientRect().width-(i.clientX-n.current.getBoundingClientRect().left);f>0&&f<n.current.getBoundingClientRect().width-36&&(r.current.style.clipPath=`inset(0 ${f}px 0 0)`,r.current.style.border="1px solid red",t.current.style.right=f+"px")};return O.jsxs("div",{className:"flex flex-row relative h-full w-full",ref:n,children:[O.jsx("div",{className:"sliding-line z-40 absolute w-1/12 inset-0 right-1/2",ref:t,children:O.jsxs("div",{className:"relative w-full h-full",children:[O.jsx("div",{className:"w-1 h-full bg-white absolute left-1/2  top-1/2 -translate-x-1/2 -translate-y-1/2 z-20"}),O.jsx("div",{onDragStart:a,draggable:!0,onDrag:l,className:"h-8 w-9 bg-orange-400 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-30"})]})}),O.jsxs("div",{className:" flex-grow ",children:[O.jsx("img",{draggable:!1,ref:r,className:`object-cover 
        
        absolute pointer-events-none 
     
        z-10 h-full w-full `,src:e.beforeImageUrl}),O.jsx("img",{draggable:!1,className:`object-cover absolute 
      
        
        
        pointer-events-none  z-0 h-full w-full`,src:e.afterImageUrl})]})]})},Uo=e=>O.jsxs("div",{className:"relative w-full h-full",children:[e.overlayCondition&&O.jsx(e.progressComponent,{}),e.mediaType==="image"?O.jsx("img",{className:"z-10 w-full h-full object-cover rounded-lg absolute inset-0",src:e.mediaSrc}):O.jsx("video",{className:"z-10 w-full h-full object-cover rounded-lg absolute inset-0",controls:!0,children:O.jsx("source",{src:e.mediaSrc})})]}),Ko=()=>{const{mutate:e,isLoading:t,data:n,reset:r}=Rr(),[o,a]=w.useState(!1),[l,i]=w.useState(null),f=w.useCallback(([E])=>{i({type:E.type.split("/")[0],uploadedPath:URL.createObjectURL(E)})},[]),{getRootProps:u,getInputProps:y}=nn({onDrop:f,maxFiles:1,accept:{"image/png":[".png"],"image/jpeg":[".jpeg",".jpg"],"video/mp4":[".mp4"],"image/svg+xml":[".svg"],"video/webm":[".webm"],"image/webp":[".webp"]}}),p=async()=>{e([l.uploadedPath,(l==null?void 0:l.type)==="image"?"jpeg":"mp4"])},b=()=>{l&&i(E=>({...E,uploadedPath:""})),r()};return O.jsxs("section",{className:"m-5 flex flex-col items-center rounded-xl bg-landing-page-image bg-cover pt-36 text-center",children:[O.jsxs("div",{className:"flex w-full md:flex-row flex-col",children:[O.jsx("div",{className:"UploadContainer align-items-center m-5 flex h-[60vh] w-full flex-col justify-center rounded-lg border border-turquoise bg-detection-gradient bg-cover",children:!l||!l.uploadedPath?O.jsxs("div",{className:"w-100 flex flex-1 flex-col items-center justify-center p-5 text-center",...u(),children:[O.jsx("input",{...y()}),O.jsx(Cn,{}),O.jsxs("p",{className:"my-5 font-medium",children:[" ","اسحب و أفلت الملفات هنا للتحليل"]}),O.jsxs("p",{className:"my-5 flex w-32 justify-between",children:[O.jsx("span",{className:"text-turquoise",children:"تحميل ملف"}),O.jsx(xn,{})]})]}):O.jsx("div",{className:"h-full w-full",children:O.jsx(Uo,{mediaType:l.type,mediaSrc:l.uploadedPath,progressComponent:An,overlayCondition:t})})}),O.jsx("div",{className:"InferenceConatiner align-items-center m-5 flex h-[60vh] w-full flex-col justify-center rounded-lg border border-turquoise bg-detection-gradient bg-cover",children:O.jsxs("div",{className:"relative h-full w-full",children:[(l==null?void 0:l.type)==="image"&&n&&O.jsx("img",{className:"absolute inset-0 h-full w-full rounded-lg object-cover",src:n}),(l==null?void 0:l.type)==="video"&&n&&O.jsxs("video",{className:"absolute inset-0 h-full w-full rounded-3xl object-cover",width:"auto",height:"auto",controls:!0,children:[O.jsx("source",{src:n})," "]})]})})]}),O.jsxs("div",{className:"flex w-fit flex-row justify-between gap-6",children:[!n&&O.jsx("button",{onClick:p,className:"button button-primary button-container w-fit px-16 py-2 hover:shadow-inner",children:O.jsx("span",{className:"button-gradient-text",children:"الكشف"})}),O.jsx("button",{onClick:b,className:"button button-primary button-container w-fit px-16 py-2 hover:shadow-inner",children:O.jsx("span",{className:"button-gradient-text",children:"مسح"})}),n&&(l==null?void 0:l.type)==="image"&&O.jsx("button",{onClick:()=>a(!0),className:"button hidden button-primary button-container w-fit px-16 py-2 hover:shadow-inner",children:O.jsx("span",{className:"button-gradient-text",children:"المقارنة"})})]}),(l==null?void 0:l.uploadedPath)&&n&&O.jsx(Lo,{isOpen:o,closeTimeoutMS:400,onRequestClose:()=>a(!1),contentLabel:"Comp Modal",style:{content:{position:"absolute",overflow:"scroll",transform:"translate(-50%, -50%)",top:"50%",left:"50%",background:"white",borderRadius:"1rem",padding:"1rem",minHeight:"500px"},overlay:{}},children:O.jsx(ko,{beforeImageUrl:l==null?void 0:l.uploadedPath,afterImageUrl:n})})]})};export{Ko as default};
